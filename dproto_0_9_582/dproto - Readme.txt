dproto is a plugin for metamod that allows p.47 and 48 no-steam clients to join the hlds-based server.

CURRENT VERSION: 0.9.582
For more information and updates please check http://cs.rin.ru/forum/viewtopic.php?f=29&t=55986

ARCHIVE CONTAINS:
	Binaries (libraries) for linux and windows.
	AMX Mod advice: Use AMX Mod when you come here, not AMX Mod X!
	dproto.cfg - dproto configuration file.
	dproto - Readme.txt - This file.

REQUIREMENTS:
	- clean (unpatched) engine files (swds.dll for windows; engine_i686.so for linux)
	- metamod 1.19 or 1.19p32 or higher
	- currently supported builds are all p48 engines for windows and linux

INSTALLATION:
	1. Go to <gamedir> and upload the "addons" folder (which contains the dproto's binaries) of the archive.
		<gamedir> - it is a game directory, "cstrike" for Counter-Strike, "valve" for Half-Life, etc.
	2. Go to metamod installation directory (usually its <gamedir>/addons/metamod/) and edit plugins.ini:
		add this line for windows
			win32 addons\dproto\dproto.dll
		or this for linux
			linux addons/dproto/dproto_i386.so
		at the beginning of the file
	3. Copy "dproto.cfg" to server root or gamedir (it is mandatory to put this file at one of this location, however the module will not work properly).
	4. Start the server. You should use this command on linux: 
		./hlds_run -binary ./hlds_i686

	   when server loads, type "meta list" in console. You'll see something like this:
		Currently loaded plugins:
			  description      stat pend  file      vers        src   load  unlod
		 [ 1] dproto         RUN   -    dproto_i386.so  v0.9.582    ini   Start Never
		 [ 2] AMX Mod        RUN   -    amx_mm_i386.so  v2010.1-fix4     ini   Start ANY
		2 plugins, 2 running
	5. If status is not "RUN", start server with "+log on +mp_logecho 1" parameters and look through console output. In 99% cases you'll find reason there.

HOW TO CHANGE STEAMIDS OF CLIENTS
	Use cid* options in AUTHID MANAGEMENT section of dproto.cfg
	For example, if you want to assign steamids generated by IP for p47 clients that not support unique id generation, you should set:
		cid_NoSteam47 = 3 for assigning STEAM_x:y:z steamid to these clients
		cid_NoSteam47 = 4 for assigning VALVE_x:y:z steamid to these clients
		
	If you want to drop these clients, just set clientid to 5:
		cid_NoSteam47 = 5
	And all p47 clients without emulators will be dropped with message that you can customize (see next section).

HOW TO CHANGE REJECT MESSAGES WHEN CLIENTID IS 5 (DEPRECATED)
	This could be done using these cvars:
		dp_rejmsg_steam for legit steam (cid_Steam) clients
		dp_rejmsg_nosteam47 for no-steam p47 (cid_NoSteam47) clients
		dp_rejmsg_nosteam48 for no-steam p48 (cid_NoSteam48) clients
		dp_rejmsg_hltv for HLTV (cid_HLTV) clients
		dp_rejmsg_pending for unathorized (cid_cid_SteamPending) clients
		dp_rejmsg_revemu for revEmu (>= 9.74 && <= 9.82) clients
		dp_rejmsg_steamemu for steamEmu clients
		dp_rejmsg_oldrevemu for old revEmu clients (< 9.74)
		dp_rejmsg_avsmp for AVSMP clients
		dp_rejmsg_revemu_sc2009 for revEmu (>9.82) and SteamClient2009 clients
		dp_rejmsg_sxei for clients with sXe Injected if EnableSXEIdGeneration is set to 1
		dp_rejmsg_revemu2013 for revEmu 2013 clients

	Just put message to them and it will be displayed for rejected clients.

	Example, a part of server.cfg:
		dp_rejmsg_nosteam47 "Sorry, you're using old client, download a new one and come back ;)"

USEFUL COMMANDS/CVARS:
	dp_ipsessions (command) - lists active connectionless sessions and info about them.
	dp_secplrinfo (command) - lists active players with some boolean options: U = Slot is used; A = Active network client; P = passed fakeplayer check;
	dp_lastthreats (command) - lists last threats.
	dp_heapinfo (command) - writes internal heap usage to <gamedir>/mem.txt.
	dp_log_msgoverflows (cvar) - enables/disables dumping contents of messages on overflow.

THANKS TO:
	Armind for testing, bugreporting;
	AlexALX for testing;
	bDy for testing on FreeBSD;
	Co6aka for tesing;
	Dark-Master for testing, bugreporting;
	debugger_perm for original idea and testing;
	DrilLer for testing, bugreporting;
	GoD2.0 for redirection fix idea;
	gromo for testing, bugreporting;
	ineya for Hybrid serverinfo trick;
	jamess for "deprecated" id idea;
	La_Vladimir for testing, bugreporting;
	Lev (aka Flasher) for help and testing;
	P4rD0nM3 for testing, bugreporting;
	Shidla for testing;
	SISA for hard testing of eST support and deprecated clientids;
	**$n@!ke** for testing, hlstats fix idea;
	Asmodai for help with commands order;
	Chuvi for voice init solution;
	PRoSToTeM@ for deltas processing bugfix, user info filtering and other good ideas;
	S0m3Th1nG_AwFul for testing, bugreporting;
	coolman for testing, bugreporting;
	Sanlerus (aka Freedo.m) for reproducing bug with hanging clients and testing
	Valve for good games ;)
	All people from this (http://cs.rin.ru/forum/viewtopic.php?f=10&t=50689) thread
	And all other people whom I forgot
